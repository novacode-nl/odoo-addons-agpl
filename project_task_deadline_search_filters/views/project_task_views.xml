<?xml version="1.0"?>
<!-- Copyright 2018 Nova Code (http://www.novacode.nl)
License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl.html) -->

<odoo>
    <record id="view_task_search_form_deadline_filters" model="ir.ui.view">
        <field name="name">project.task.search.form</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="project.view_task_search_form"/>
        <field name="arch" type="xml">
            <filter name="inactive" position="after">
                <separator/>
                <filter string="Deadline &lt;= today" name="deadline_lte_today" domain="[('date_deadline', '&lt;=',  (context_today() - datetime.timedelta(days=0)).strftime('%%Y-%%m-%%d'))]"/>
                <filter string="Deadline &gt; today" name="deadline_gt_today" domain="[('date_deadline', '&gt;',  (context_today() + datetime.timedelta(days=0)).strftime('%%Y-%%m-%%d'))]"/>
                <separator/>
                <filter string="Deadline &gt; 1 week" name="deadline_gt_1_week" domain="[('date_deadline', '&gt;',  (context_today() + datetime.timedelta(days=7)).strftime('%%Y-%%m-%%d'))]"/>
                <filter string="Deadline &gt; next 2 weeks" name="deadline_gt_2_weeks" domain="[('date_deadline', '&gt;',  (context_today() + datetime.timedelta(days=14)).strftime('%%Y-%%m-%%d'))]"/>
                <filter string="Deadline &gt; next 3 weeks" name="deadline_gt_3_weeks" domain="[('date_deadline', '&gt;',  (context_today() + datetime.timedelta(days=21)).strftime('%%Y-%%m-%%d'))]"/>
                <filter string="Deadline &gt; next 4 weeks" name="deadline_gt_4_weeks" domain="[('date_deadline', '&gt;',  (context_today() + datetime.timedelta(days=28)).strftime('%%Y-%%m-%%d'))]"/>
            </filter>
        </field>
    </record>
</odoo>
